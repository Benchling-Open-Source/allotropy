{
    "$id": "http://purl.allotrope.org/json-schemas/adm/plate-reader/REC/2023/09/plate-reader.schema",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "allOf": [
      {
        "properties": {
          "plate reader aggregate document": {
            "type": "object",
            "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0002845",
            "$asm.pattern": "aggregate datum",
            "properties": {
              "device system document": {
                "type": "object",
                "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0002526",
                "$asm.pattern": "aggregate datum",
                "required": [
                  "device identifier",
                  "model number"
                ],
                "properties": {
                  "description": {
                    "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0000922",
                    "$asm.pattern": "any datum"
                  },
                  "brand name": {
                    "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0001680",
                    "$asm.pattern": "value datum",
                    "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
                    "$ref": "#/$defs/tStringValue"
                  },
                  "product manufacturer": {
                    "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0001258",
                    "$asm.pattern": "value datum",
                    "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
                    "$ref": "#/$defs/tStringValue"
                  },
                  "device identifier": {
                    "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0002018",
                    "$asm.pattern": "value datum",
                    "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
                    "$ref": "#/$defs/tStringValue"
                  },
                  "model number": {
                    "$asm.property-class": "http://purl.obolibrary.org/obo/IAO_0000017",
                    "$asm.pattern": "value datum",
                    "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
                    "$ref": "#/$defs/tStringValue"
                  },
                  "equipment serial number": {
                    "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0001119",
                    "$asm.pattern": "value datum",
                    "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
                    "$ref": "#/$defs/tStringValue"
                  },
                  "device document": {
                    "type": "array",
                    "$asm.array-ordered": true,
                    "$asm.array-mixed": false,
                    "$asm.pattern": "indexed datum",
                    "items": {
                      "allOf": [
                        {
                          "type": "object",
                          "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0002567",
                          "$asm.pattern": "aggregate datum",
                          "required": [
                            "device type"
                          ],
                          "properties": {
                            "device identifier": {
                              "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0002018",
                              "$asm.pattern": "value datum",
                              "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
                              "$ref": "#/$defs/tStringValue"
                            },
                            "device type": {
                              "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0002568",
                              "$asm.pattern": "value datum",
                              "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
                              "$ref": "#/$defs/tStringValue"
                            },
                            "model number": {
                              "$asm.property-class": "http://purl.obolibrary.org/obo/IAO_0000017",
                              "$asm.pattern": "value datum",
                              "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
                              "$ref": "#/$defs/tStringValue"
                            },
                            "product manufacturer": {
                              "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0001258",
                              "$asm.pattern": "value datum",
                              "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
                              "$ref": "#/$defs/tStringValue"
                            },
                            "brand name": {
                              "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0001680",
                              "$asm.pattern": "value datum",
                              "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
                              "$ref": "#/$defs/tStringValue"
                            },
                            "equipment serial number": {
                              "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0001119",
                              "$asm.pattern": "value datum",
                              "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
                              "$ref": "#/$defs/tStringValue"
                            },
                          }
                        },
                        {
                          "properties": {
                            "@index": {
                              "type": "integer",
                              "minimum": 1,
                              "maximum": 2147483647
                            }
                          }
                        }
                      ]
                    },
                    "minItems": 1
                  }
                }
              },
              "plate reader document": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "measurement aggregate document": {
                      "type": "object",
                      "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0002374",
                      "$asm.pattern": "aggregate datum",
                      "properties": {
                        "measurement time": {
                          "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0000952",
                          "$asm.pattern": "value datum",
                          "$asm.type": "http://www.w3.org/2001/XMLSchema#dateTimeStamp",
                          "$ref": "#/$defs/tDateTimeStampValue"
                        },
                        "plate well count": {
                          "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0002231",
                          "$asm.pattern": "quantity datum",
                          "$ref": "#/$custom/tQuantityValueNumber"
                        },
                        "measurement document": {
                          "type": "array",
                          "$asm.array-ordered": false,
                          "$asm.array-mixed": false,
                          "$asm.pattern": "indexed datum",
                          "items": {
                            "anyOf": [
                              {
                                "$ref": "#/$defs/fluorescencePointDetectionMeasurementDocumentItems"
                              }
                            ]
                          },
                          "minItems": 1
                        }
                      },
                      "required": [
                        "measurement document",
                        "measurement time",
                        "plate well count"
                      ]
                    }
                  },
                  "required": [
                    "measurement aggregate document"
                  ]
                },
                "minItems": 1
              }
            },
            "required": [
              "plate reader document"
            ]
          }
        }
      },
      {
        "$ref": "#/$defs/asm"
      }
    ],
    "required": [
      "$asm.manifest"
    ],
    "$defs": {
      "sampleDocument": {
        "type": "object",
        "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0002083",
        "$asm.pattern": "aggregate datum",
        "properties": {
          "description": {
            "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0000922",
            "$asm.pattern": "any datum"
          },
          "sample identifier": {
            "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0001118",
            "$asm.pattern": "value datum",
            "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
            "$ref": "#/$defs/tStringValue"
          },
          "location identifier": {
            "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0002844",
            "$asm.pattern": "value datum",
            "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
            "$ref": "#/$defs/tStringValue"
          }
        },
        "required": [
          "sample identifier",
          "location identifier"
        ]
      },
      "fluorescencePointDetectionMeasurementDocumentItems": {
        "type": "object",
        "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0002375",
        "$asm.pattern": "aggregate datum",
        "required": [
          "fluorescence",
          "sample document",
          "measurement identifier"
        ],
        "properties": {
          "measurement time": {
            "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0000952",
            "$asm.pattern": "value datum",
            "$asm.type": "http://www.w3.org/2001/XMLSchema#dateTimeStamp",
            "$ref": "#/$defs/tDateTimeStampValue"
          },
          "measurement identifier": {
            "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0001121",
            "$asm.pattern": "value datum",
            "$asm.type": "http://www.w3.org/2001/XMLSchema#string",
            "$ref": "#/$defs/tStringValue"
          },
          "sample document": {
            "$ref": "#/$defs/sampleDocument"
          },
          "fluorescence": {
            "$asm.property-class": "http://purl.allotrope.org/ontologies/result#AFR_0002408",
            "$asm.pattern": "quantity datum",
            "$ref": "#/$custom/tRelativeFluorescenceUnit"
          }
        }
      },
      "asm": {
        "properties": {
          "$asm.manifest": {
            "oneOf": [
              {
                "type": "string",
                "format": "iri"
              },
              {
                "$ref": "#/$defs/manifest"
              }
            ]
          }
        }
      },
      "manifest": {
        "$id": "http://purl.allotrope.org/json-schemas/adm/core/REC/2023/09/manifest.schema",
        "title": "Schema for manifests.",
        "type": "object",
        "properties": {
          "@id": {
            "type": "string",
            "format": "uri",
            "minItems": 1,
            "maxItems": 1
          },
          "@type": {
            "type": "string",
            "format": "uri",
            "minItems": 1,
            "maxItems": 1
          },
          "vocabulary": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri"
            },
            "minItems": 1
          },
          "shapes": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri"
            },
            "minItems": 1
          },
          "json-schemas": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri"
            },
            "minItems": 1
          }
        },
        "required": [
          "vocabulary",
          "json-schemas"
        ]
      }
    }
  }
